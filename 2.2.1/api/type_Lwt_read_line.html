<html><head><title></title><meta charset="utf8"/><link rel="stylesheet" href="https://ocsigen.org/css/style.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/themes/prism.min.css"/><script type="text/javascript" src="https://ocsigen.org/js/client.js">
//<![CDATA[

//]]>
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-core.min.js">
//<![CDATA[

//]]>
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-ocaml.min.js">
//<![CDATA[

//]]>
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-clike.min.js">
//<![CDATA[

//]]>
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-reason.min.js">
//<![CDATA[

//]]>
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-javascript.min.js">
//<![CDATA[

//]]>
</script></head><body><div class="project-page"><div class="page-header"><p class="logo-ocsigen"><a href=".././../../" class="ocsimore_phrasing_link"><img src=".././../../img/ocsigen-white.svg" alt="Ocsigen"/></a>
</p><p class="logo-subproject">Lwt</p><div class="mainmenu"><p class="mainmenu-home"><a href=".././../../" class="ocsimore_phrasing_link">Home</a></p><p class="mainmenu-doc"><a href=".././../../tuto/" class="ocsimore_phrasing_link">Doc</a></p><p><a href=".././../../eliom/" class="ocsimore_phrasing_link">Eliom</a></p><p><a href=".././../../js_of_ocaml/" class="ocsimore_phrasing_link">Js_of_ocaml</a></p><p class="mainmenu-current"><a href=".././../../lwt/" class="ocsimore_phrasing_link">Lwt</a></p><p><a href=".././../../tyxml/" class="ocsimore_phrasing_link">Tyxml</a></p><p><a href=".././../../ocsigen-start/" class="ocsimore_phrasing_link">Start</a></p></div><form id="googlesearch" action="https://google.com/search"><input name="q" id="gsearch-box" placeholder="Search using Google"/><label for="gsearch-box"><img src="/img/search.svg" alt="" id="gsearch-icon"/></label><input type="submit" id="gsearch-submit" onclick="document.getElementById('gsearch-box').value += ' site:ocsigen.org';"/></form><aside class="how-drawer"><input id="how-drawer-toggle" type="checkbox"/><label for="how-drawer-toggle" id="how-drawer-label"><span class="how-drawer-icon"></span></label><nav class="how-drawer-content"><ul class="drawermainmenu"><li class="drawermainmenu-home"><a href=".././../../" class="ocsimore_phrasing_link">Home</a>
</li><li class="drawermainmenu-doc"><a href=".././../../tuto/" class="ocsimore_phrasing_link">Doc</a>
</li><li class="drawermainmenu-project"><a href=".././../../eliom/" class="ocsimore_phrasing_link">Eliom</a>
</li><li class="drawermainmenu-project"><a href=".././../../js_of_ocaml/" class="ocsimore_phrasing_link">Js_of_ocaml</a>
</li><li class="drawermainmenu-project"><a href=".././../../ocsigenserver/" class="ocsimore_phrasing_link">Server</a>
</li><li class="drawermainmenu-project"><a href=".././../../lwt/" class="ocsimore_phrasing_link">Lwt</a>
</li><li class="drawermainmenu-project"><a href=".././../../tyxml/" class="ocsimore_phrasing_link">Tyxml</a>
</li><li class="drawermainmenu-project"><a href=".././../../ocsigen-toolkit/" class="ocsimore_phrasing_link">Toolkit</a>
</li><li class="drawermainmenu-project"><a href=".././../../ocsigen-start/" class="ocsimore_phrasing_link">Start</a>
</li><li class="drawermainmenu-project"><a href=".././../../html_of_wiki/" class="ocsimore_phrasing_link">html_of_wiki</a>
</li><li class="drawermainmenu-project"><a href=".././../../deriving/" class="ocsimore_phrasing_link">deriving</a>
</li><li class="drawermainmenu-project"><a href=".././../../ocsimore/" class="ocsimore_phrasing_link">Ocsimore (<em>deprecated</em>)</a>
</li><li class="drawermainmenu-page"><a href=".././../../projects" class="ocsimore_phrasing_link">Other projects</a>
</li><li class="drawermainmenu-page"><a href=".././../../papers" class="ocsimore_phrasing_link">Research papers</a>
</li><li class="drawermainmenu-page"><a href=".././../../credits" class="ocsimore_phrasing_link">Who does Ocsigen?</a>
</li><li class="drawermainmenu-page"><a href=".././../../contributing" class="ocsimore_phrasing_link">Contributing</a>
</li><li class="drawermainmenu-page"><a href=".././../../blog" class="ocsimore_phrasing_link">Blog</a>
</li><li class="drawermainmenu-page"><a href=".././../../install" class="ocsimore_phrasing_link">Installation</a>
</li><li class="drawermainmenu-page"><a href="https://github.com/ocsigen" class="ocsimore_phrasing_link">Source code</a>
</li></ul><nav class="how-doctree"><h1>Lwt - API Reference</h1><h2>Core library</h2><h3><a href=".././api/Lwt" class="ocsimore_phrasing_link">Lwt</a></h3><h3><a href=".././api/Lwt_condition" class="ocsimore_phrasing_link">Lwt_condition</a></h3><h3><a href=".././api/Lwt_list" class="ocsimore_phrasing_link">Lwt_list</a></h3><h3><a href=".././api/Lwt_mutex" class="ocsimore_phrasing_link">Lwt_mutex</a></h3><h3><a href=".././api/Lwt_mvar" class="ocsimore_phrasing_link">Lwt_mvar</a></h3><h3><a href=".././api/Lwt_pool" class="ocsimore_phrasing_link">Lwt_pool</a></h3><h3><a href=".././api/Lwt_sequence" class="ocsimore_phrasing_link">Lwt_sequence</a></h3><h3><a href=".././api/Lwt_stream" class="ocsimore_phrasing_link">Lwt_stream</a></h3><h3><a href=".././api/Lwt_switch" class="ocsimore_phrasing_link">Lwt_switch</a></h3><h2>Unix bindings</h2><h3><a href=".././api/Lwt_daemon" class="ocsimore_phrasing_link">Lwt_daemon</a></h3><h3><a href=".././api/Lwt_gc" class="ocsimore_phrasing_link">Lwt_gc</a></h3><h3><a href=".././api/Lwt_io" class="ocsimore_phrasing_link">Lwt_io</a></h3><h3><a href=".././api/Lwt_log" class="ocsimore_phrasing_link">Lwt_log</a></h3><h3><a href=".././api/Lwt_main" class="ocsimore_phrasing_link">Lwt_main</a></h3><h3><a href=".././api/Lwt_process" class="ocsimore_phrasing_link">Lwt_process</a></h3><h3><a href=".././api/Lwt_throttle" class="ocsimore_phrasing_link">Lwt_throttle</a></h3><h3><a href=".././api/Lwt_timeout" class="ocsimore_phrasing_link">Lwt_timeout</a></h3><h3><a href=".././api/Lwt_unix" class="ocsimore_phrasing_link">Lwt_unix</a></h3><h3><a href=".././api/Lwt_bytes" class="ocsimore_phrasing_link">Lwt_bytes</a></h3><h2>Reactive programming helpers</h2><h3><a href=".././api/Lwt_event" class="ocsimore_phrasing_link">Lwt_event</a></h3><h3><a href=".././api/Lwt_signal" class="ocsimore_phrasing_link">Lwt_signal</a></h3><h2>Syntax extensions</h2><h3><a href=".././api/Pa_lwt" class="ocsimore_phrasing_link">Pa_lwt</a></h3><h3><a href=".././api/Pa_lwt_log" class="ocsimore_phrasing_link">Pa_lwt_log</a></h3><h2>Terminal manipulation</h2><h3><a href=".././api/Lwt_read_line" class="ocsimore_phrasing_link">Lwt_read_line</a></h3><h3><a href=".././api/Lwt_term" class="ocsimore_phrasing_link">Lwt_term</a></h3><h3><a href=".././api/Lwt_text" class="ocsimore_phrasing_link">Lwt_text</a></h3><h2>Miscellaneous</h2><h3><a href=".././api/Lwt_glib" class="ocsimore_phrasing_link">Lwt_glib</a></h3><h3><a href=".././api/Lwt_lib" class="ocsimore_phrasing_link">Lwt_lib</a></h3><h3><a href=".././api/Lwt_preemptive" class="ocsimore_phrasing_link">Lwt_preemptive</a></h3><h3><a href=".././api/Lwt_ssl" class="ocsimore_phrasing_link">Lwt_ssl</a></h3><h2>Index</h2></nav></nav></aside></div><p class="reasonwarning">Warning: Reason support is experimental.
We are looking for beta-tester and contributors.
</p><button id="reason">Switch to </button><div class="twocols"><nav class="leftcol">Version <select class="how-versions" onchange="location = this.value;"><option value=".././../1.0.0/api/type_Lwt_read_line">1.0.0</option><option value=".././../1.1.0/api/type_Lwt_read_line">1.1.0</option><option value=".././../2.0.0/api/type_Lwt_read_line">2.0.0</option><option value=".././../2.1.0/api/type_Lwt_read_line">2.1.0</option><option value=".././../2.1.1/api/type_Lwt_read_line">2.1.1</option><option value=".././../2.2.0/api/type_Lwt_read_line">2.2.0</option><option value=".././../2.2.1/api/type_Lwt_read_line" selected="selected">2.2.1</option><option value=".././../2.3.0/api/type_Lwt_read_line">2.3.0</option><option value=".././../2.3.1/api/type_Lwt_read_line">2.3.1</option><option value=".././../2.3.2/api/type_Lwt_read_line">2.3.2</option><option value=".././../2.4.0/api/type_Lwt_read_line">2.4.0</option><option value=".././../2.4.1/api/type_Lwt_read_line">2.4.1</option><option value=".././../2.4.2/api/type_Lwt_read_line">2.4.2</option><option value=".././../2.4.3/api/type_Lwt_read_line">2.4.3</option><option value=".././../2.4.7/api/type_Lwt_read_line">2.4.7</option><option value=".././../2.4.8/api/type_Lwt_read_line">2.4.8</option><option value=".././../2.5.0/api/type_Lwt_read_line">2.5.0</option><option value=".././../2.5.1/api/type_Lwt_read_line">2.5.1</option><option value=".././../2.5.2/api/type_Lwt_read_line">2.5.2</option><option value=".././../2.6.0/api/type_Lwt_read_line">2.6.0</option><option value=".././../2.7.0/api/type_Lwt_read_line">2.7.0</option><option value=".././../2.7.1/api/type_Lwt_read_line">2.7.1</option><option value=".././../3.0.0/api/type_Lwt_read_line">3.0.0</option><option value=".././../3.1.0/api/type_Lwt_read_line">3.1.0</option><option value=".././../3.2.1/api/type_Lwt_read_line">3.2.1</option><option value=".././../3.3.0/api/type_Lwt_read_line">3.3.0</option><option value=".././../4.0.0/api/type_Lwt_read_line">4.0.0</option><option value=".././../4.0.1/api/type_Lwt_read_line">4.0.1</option><option value=".././../4.1.0/api/type_Lwt_read_line">4.1.0</option><option value=".././../dev/api/type_Lwt_read_line">dev</option></select><nav class="how-doctree"><h1>Lwt - API Reference</h1><h2>Core library</h2><h3><a href=".././api/Lwt" class="ocsimore_phrasing_link">Lwt</a></h3><h3><a href=".././api/Lwt_condition" class="ocsimore_phrasing_link">Lwt_condition</a></h3><h3><a href=".././api/Lwt_list" class="ocsimore_phrasing_link">Lwt_list</a></h3><h3><a href=".././api/Lwt_mutex" class="ocsimore_phrasing_link">Lwt_mutex</a></h3><h3><a href=".././api/Lwt_mvar" class="ocsimore_phrasing_link">Lwt_mvar</a></h3><h3><a href=".././api/Lwt_pool" class="ocsimore_phrasing_link">Lwt_pool</a></h3><h3><a href=".././api/Lwt_sequence" class="ocsimore_phrasing_link">Lwt_sequence</a></h3><h3><a href=".././api/Lwt_stream" class="ocsimore_phrasing_link">Lwt_stream</a></h3><h3><a href=".././api/Lwt_switch" class="ocsimore_phrasing_link">Lwt_switch</a></h3><h2>Unix bindings</h2><h3><a href=".././api/Lwt_daemon" class="ocsimore_phrasing_link">Lwt_daemon</a></h3><h3><a href=".././api/Lwt_gc" class="ocsimore_phrasing_link">Lwt_gc</a></h3><h3><a href=".././api/Lwt_io" class="ocsimore_phrasing_link">Lwt_io</a></h3><h3><a href=".././api/Lwt_log" class="ocsimore_phrasing_link">Lwt_log</a></h3><h3><a href=".././api/Lwt_main" class="ocsimore_phrasing_link">Lwt_main</a></h3><h3><a href=".././api/Lwt_process" class="ocsimore_phrasing_link">Lwt_process</a></h3><h3><a href=".././api/Lwt_throttle" class="ocsimore_phrasing_link">Lwt_throttle</a></h3><h3><a href=".././api/Lwt_timeout" class="ocsimore_phrasing_link">Lwt_timeout</a></h3><h3><a href=".././api/Lwt_unix" class="ocsimore_phrasing_link">Lwt_unix</a></h3><h3><a href=".././api/Lwt_bytes" class="ocsimore_phrasing_link">Lwt_bytes</a></h3><h2>Reactive programming helpers</h2><h3><a href=".././api/Lwt_event" class="ocsimore_phrasing_link">Lwt_event</a></h3><h3><a href=".././api/Lwt_signal" class="ocsimore_phrasing_link">Lwt_signal</a></h3><h2>Syntax extensions</h2><h3><a href=".././api/Pa_lwt" class="ocsimore_phrasing_link">Pa_lwt</a></h3><h3><a href=".././api/Pa_lwt_log" class="ocsimore_phrasing_link">Pa_lwt_log</a></h3><h2>Terminal manipulation</h2><h3><a href=".././api/Lwt_read_line" class="ocsimore_phrasing_link">Lwt_read_line</a></h3><h3><a href=".././api/Lwt_term" class="ocsimore_phrasing_link">Lwt_term</a></h3><h3><a href=".././api/Lwt_text" class="ocsimore_phrasing_link">Lwt_text</a></h3><h2>Miscellaneous</h2><h3><a href=".././api/Lwt_glib" class="ocsimore_phrasing_link">Lwt_glib</a></h3><h3><a href=".././api/Lwt_lib" class="ocsimore_phrasing_link">Lwt_lib</a></h3><h3><a href=".././api/Lwt_preemptive" class="ocsimore_phrasing_link">Lwt_preemptive</a></h3><h3><a href=".././api/Lwt_ssl" class="ocsimore_phrasing_link">Lwt_ssl</a></h3><h2>Index</h2></nav></nav><article class="rightcol"><pre class=""><code class="language-ocaml translatable">sig
  exception Interrupt
  type edition_state = Text.t * Text.t
  type prompt = Lwt_term.styled_text
  type text_set = Set.Make(Text).t
  type completion_result = {
    comp_state : Lwt_read_line.edition_state;
    comp_words : Lwt_read_line.text_set;
  }
  type completion =
      Lwt_read_line.edition_state -&gt; Lwt_read_line.completion_result Lwt.t
  val lookup :
    Text.t -&gt; Lwt_read_line.text_set -&gt; Text.t * Lwt_read_line.text_set
  val complete :
    ?suffix:Text.t -&gt;
    Text.t -&gt;
    Text.t -&gt;
    Text.t -&gt; Lwt_read_line.text_set -&gt; Lwt_read_line.completion_result
  val print_words :
    Lwt_text.output_channel -&gt; int -&gt; string list -&gt; unit Lwt.t
  type history = Text.t list
  val add_entry : Text.t -&gt; Lwt_read_line.history -&gt; Lwt_read_line.history
  val save_history : string -&gt; Lwt_read_line.history -&gt; unit Lwt.t
  val load_history : string -&gt; Lwt_read_line.history Lwt.t
  class clipboard :
    object
      method contents : Text.t React.signal
      method set : Text.t -&gt; unit
    end
  val clipboard : Lwt_read_line.clipboard
  type completion_mode = [ `classic | `none | `real_time ]
  val read_line :
    ?history:Lwt_read_line.history -&gt;
    ?complete:Lwt_read_line.completion -&gt;
    ?clipboard:Lwt_read_line.clipboard -&gt;
    ?mode:Lwt_read_line.completion_mode -&gt;
    ?prompt:Lwt_read_line.prompt -&gt; unit -&gt; Text.t Lwt.t
  type password_style = [ `clear | `empty | `text of Text.t ]
  val read_password :
    ?clipboard:Lwt_read_line.clipboard -&gt;
    ?style:Lwt_read_line.password_style -&gt;
    ?prompt:Lwt_read_line.prompt -&gt; unit -&gt; Text.t Lwt.t
  val read_keyword :
    ?history:Lwt_read_line.history -&gt;
    ?case_sensitive:bool -&gt;
    ?mode:Lwt_read_line.completion_mode -&gt;
    ?prompt:Lwt_read_line.prompt -&gt;
    values:(Text.t * 'a) list -&gt; unit -&gt; 'a Lwt.t
  val read_yes_no :
    ?history:Lwt_read_line.history -&gt;
    ?mode:Lwt_read_line.completion_mode -&gt;
    ?prompt:Lwt_read_line.prompt -&gt; unit -&gt; bool Lwt.t
  module Command :
    sig
      type t =
          Nop
        | Char of Text.t
        | Backward_delete_char
        | Forward_delete_char
        | Beginning_of_line
        | End_of_line
        | Complete
        | Meta_complete
        | Kill_line
        | Backward_kill_line
        | Accept_line
        | Backward_delete_word
        | Forward_delete_word
        | History_next
        | History_previous
        | Break
        | Clear_screen
        | Insert
        | Refresh
        | Backward_char
        | Forward_char
        | Set_mark
        | Paste
        | Copy
        | Cut
        | Uppercase
        | Lowercase
        | Capitalize
        | Backward_word
        | Forward_word
        | Backward_search
        | Complete_left
        | Complete_right
        | Complete_up
        | Complete_down
        | Complete_first
        | Complete_last
        | Undo
        | Delete_char_or_list
      val to_string : Lwt_read_line.Command.t -&gt; string
      val of_string : string -&gt; Lwt_read_line.Command.t
      val names : (Lwt_read_line.Command.t * string) list
      val of_key : Lwt_term.key -&gt; Lwt_read_line.Command.t
    end
  module Engine :
    sig
      type selection_state = {
        sel_text : Text.t;
        sel_mark : Text.pointer;
        sel_cursor : Text.pointer;
      }
      type search_state = {
        search_word : Text.t;
        search_history : Lwt_read_line.history;
        search_init_history : Lwt_read_line.history;
      }
      type mode =
          Edition of Lwt_read_line.edition_state
        | Selection of Lwt_read_line.Engine.selection_state
        | Search of Lwt_read_line.Engine.search_state
      type state = {
        mode : Lwt_read_line.Engine.mode;
        history : Lwt_read_line.history * Lwt_read_line.history;
      }
      val init : Lwt_read_line.history -&gt; Lwt_read_line.Engine.state
      val reset : Lwt_read_line.Engine.state -&gt; Lwt_read_line.Engine.state
      val update :
        engine_state:Lwt_read_line.Engine.state -&gt;
        ?clipboard:Lwt_read_line.clipboard -&gt;
        command:Lwt_read_line.Command.t -&gt; unit -&gt; Lwt_read_line.Engine.state
      val edition_state :
        Lwt_read_line.Engine.state -&gt; Lwt_read_line.edition_state
      val all_input : Lwt_read_line.Engine.state -&gt; Text.t
    end
  module Terminal :
    sig
      type state
      val init : Lwt_read_line.Terminal.state
      type box =
          Box_none
        | Box_empty
        | Box_words of Lwt_read_line.text_set * int
        | Box_message of string
      val draw :
        columns:int -&gt;
        ?map_text:(Text.t -&gt; Text.t) -&gt;
        ?box:Lwt_read_line.Terminal.box -&gt;
        render_state:Lwt_read_line.Terminal.state -&gt;
        engine_state:Lwt_read_line.Engine.state -&gt;
        prompt:Lwt_read_line.prompt -&gt;
        unit -&gt; Lwt_term.styled_text * Lwt_read_line.Terminal.state
      val last_draw :
        columns:int -&gt;
        ?map_text:(Text.t -&gt; Text.t) -&gt;
        render_state:Lwt_read_line.Terminal.state -&gt;
        engine_state:Lwt_read_line.Engine.state -&gt;
        prompt:Lwt_read_line.prompt -&gt; unit -&gt; Lwt_term.styled_text
      val erase :
        columns:int -&gt;
        render_state:Lwt_read_line.Terminal.state -&gt;
        unit -&gt; Lwt_term.styled_text
    end
  module Control :
    sig
      type 'a t
      val result : 'a Lwt_read_line.Control.t -&gt; 'a Lwt.t
      val send_command :
        'a Lwt_read_line.Control.t -&gt; Lwt_read_line.Command.t -&gt; unit
      val accept : 'a Lwt_read_line.Control.t -&gt; unit
      val interrupt : 'a Lwt_read_line.Control.t -&gt; unit
      val hide : 'a Lwt_read_line.Control.t -&gt; unit Lwt.t
      val show : 'a Lwt_read_line.Control.t -&gt; unit Lwt.t
      type prompt =
          Lwt_read_line.Engine.state React.signal -&gt;
          Lwt_term.styled_text React.signal
      type state
      val engine_state :
        Lwt_read_line.Control.state -&gt; Lwt_read_line.Engine.state
      val render_state :
        Lwt_read_line.Control.state -&gt; Lwt_read_line.Terminal.state
      val make :
        ?history:Lwt_read_line.history -&gt;
        ?complete:Lwt_read_line.completion -&gt;
        ?clipboard:Lwt_read_line.clipboard -&gt;
        ?mode:[ `classic | `none | `real_time ] -&gt;
        ?map_text:(Text.t -&gt; Text.t) -&gt;
        ?filter:(Lwt_read_line.Control.state -&gt;
                 Lwt_read_line.Command.t -&gt; Lwt_read_line.Command.t Lwt.t) -&gt;
        map_result:(Text.t -&gt; 'a Lwt.t) -&gt;
        ?prompt:Lwt_read_line.Control.prompt -&gt;
        unit -&gt; 'a Lwt_read_line.Control.t
      val read_line :
        ?history:Lwt_read_line.history -&gt;
        ?complete:Lwt_read_line.completion -&gt;
        ?clipboard:Lwt_read_line.clipboard -&gt;
        ?mode:Lwt_read_line.completion_mode -&gt;
        ?prompt:Lwt_read_line.Control.prompt -&gt;
        unit -&gt; Text.t Lwt_read_line.Control.t Lwt.t
      val read_password :
        ?clipboard:Lwt_read_line.clipboard -&gt;
        ?style:Lwt_read_line.password_style -&gt;
        ?prompt:Lwt_read_line.Control.prompt -&gt;
        unit -&gt; Text.t Lwt_read_line.Control.t Lwt.t
      val read_keyword :
        ?history:Lwt_read_line.history -&gt;
        ?case_sensitive:bool -&gt;
        ?mode:Lwt_read_line.completion_mode -&gt;
        ?prompt:Lwt_read_line.Control.prompt -&gt;
        values:(Text.t * 'a) list -&gt; unit -&gt; 'a Lwt_read_line.Control.t Lwt.t
      val read_yes_no :
        ?history:Lwt_read_line.history -&gt;
        ?mode:Lwt_read_line.completion_mode -&gt;
        ?prompt:Lwt_read_line.Control.prompt -&gt;
        unit -&gt; bool Lwt_read_line.Control.t Lwt.t
    end
end</code></pre></article></div></div></body></html>
